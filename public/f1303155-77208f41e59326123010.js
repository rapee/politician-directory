(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"V/E/":function(t,e,r){"use strict";var n,a,i,o,c=r("qKvR"),s=r("DzJC"),l=r.n(s),d=r("mwIZ"),u=r.n(d),p=r("q1tI"),f=r.n(p),b=r("InJ6"),g=r("VphZ"),h=r("Wbzz");var m=((n={display:"none"})[Object(b.a)(767)]={width:"100%",display:"flex"},n),j=((a={zIndex:"100",position:"absolute",top:"0.5rem",right:"0.5rem",width:"10px",height:"10px",cursor:"pointer",opacity:"0.5"})[Object(b.a)(767)]={right:"0.5rem"},a["&:hover"]={opacity:"1"},a["&:before, &:after"]={position:"absolute",top:"0",right:"1.2rem",content:'""',height:"12px",width:"1px",backgroundColor:"black"},a["&:before"]={transform:"rotate(45deg)"},a["&:after"]={transform:"rotate(-45deg)"},a),O=((i={display:"none"})[Object(b.a)(767)]={width:"100%",display:"flex",position:"relative"},i),v=((o={overflowX:"scroll",background:"rgba(238,240,144, 0.1)"})[Object(b.a)(767)]={height:"43.6rem",marginTop:"2.6rem",overflowY:"hidden",position:"relative"},o["::-webkit-scrollbar-track"]={background:"#DFDFDF"},o["::-webkit-scrollbar"]={height:7,background:"#DFDFDF"},o["::-webkit-scrollbar-thumb"]={background:"#F0324B",borderRadius:6},o),w={width:"7.6rem",height:"2.4rem",borderRadius:"0.3rem",position:"relative",background:"#EEF090",textAlign:"center",fontSize:"1.4rem",marginBottom:"0.8rem",zIndex:9,left:0},y={height:"39.4rem",width:"24rem",position:"sticky",marginTop:"-34rem",left:0,zIndex:150,pointerEvents:"none"},k={fontSize:"1.2rem"},x={position:"fixed",width:"20.6rem",background:"#fff",boxShadow:"0px 1px 4px rgba(0, 0, 0, 0.25)",borderRadius:"0.4rem",padding:"1.2rem",zIndex:99999,p:{fontSize:"1.2rem",marginBottom:"0.4rem"},a:{textDecoration:"underline",fontSize:"1rem",color:"#999C00"}},E={position:"sticky",width:"100%",left:0,display:"flex",alignItems:"center",p:{fontSize:"1rem",margin:0,padding:0},zIndex:"100"},A={width:"100%",height:"0.1rem"},z=g.k().domain(["โดยตำแหน่ง","เลือกโดย คสช.","เลือกกันเอง"]).range(["#999C00","#5739AC","#FEACAC"]);function S(t){var e=t.map((function(t){return t.score})).reduce((function(t,e){return t+e}),0)/t.length,r=[50,60,70,80],n=t.filter((function(t){return t.score<50})).length,a=t.filter((function(t){return t.score>50&&t.score<60})).length,i=t.filter((function(t){return t.score>60&&t.score<70})).length,o=t.filter((function(t){return t.score>70&&t.score<80})).length,c=[{grade:"A",score:t.filter((function(t){return t.score>80})).length},{grade:"B",score:o},{grade:"C",score:i},{grade:"D",score:a},{grade:"F",score:n}],s=r.map((function(e){return t.findIndex((function(t){return Math.floor(t.score)===e}))}));return{criteriaScore:r,posScore:s,meanPos:t.filter((function(t){return Math.floor(t.score)===Math.floor(e)}))[0].id,labelGradeData:c}}function F(t){var e=t.gradeObj;return Object(c.d)("div",{css:Object(c.c)(Object.assign({},w),"")},Object(c.d)("strong",null,e.grade)," ",Object(c.d)("span",{css:Object(c.c)(Object.assign({},k),"")},e.score," คน"))}var I={name:"70qvj9",styles:"display:flex;align-items:center;"},B={name:"a3m2i4",styles:"width:10px;height:10px;fill:none;margin-left:8px;"},D={name:"1fhi8yk",styles:"width:20rem;text-align:center;font-weight:700;color:#AEAEAE;background:rgba(255,255,255,0.8);border-radius:0.3rem;"},C={name:"7p9gvz",styles:"width:20rem;text-align:center;color:#F0324B;font-weight:700;background:rgba(255,255,255,0.8);border-radius:0.3rem;"};e.a=function(t){var e=Object(h.useStaticQuery)("2597940238"),r=t.senateVoteData,n=t.filter,a=S(r).labelGradeData,i=Object(p.useRef)(null),o=Object(p.useRef)(null),s=Object(p.useState)(null),d=s[0],b=s[1],w=Object(p.useState)({position:"absolute",width:0,left:null,top:null,opacity:0}),k=w[0],R=w[1];Object(p.useEffect)((function(){!function(t,e,r,n,a,i){var o=S(t),c=o.criteriaScore,s=o.posScore,l=o.meanPos,d=u()(i,"placeholderImage.childImageSharp.fluid.src"),p=e.current.clientWidth,f=r.current.clientWidth,b=16,h=34,m=f/12e3*p,j=g.d().extent([[0,0],[p,88]]).on("brush",(function(){var t=-g.e.selection[0]*(12e3/f);g.l(r.current).style("transform","translate("+t+"px,0px)")})),O=g.l(e.current).append("svg").attr("width",p).attr("height",88).style("pointer-events","none"),v=g.i().domain(t.map((function(t){return t.id}))).range([0,p]).padding(.2);O.append("g").attr("class","brush").call(j).call(j.move,[0,m]);var w=g.j().domain([0,100]).range([88,0]);O.selectAll("timelineBar").data(t).enter().append("rect").attr("class","miniBar").attr("x",(function(t){return v(t.id)})).attr("y",(function(t){return w(t.score)})).attr("width",v.bandwidth()).attr("height",(function(t){return 88-w(t.score)})).attr("fill",(function(t){return z(t.senator_method)})),g.m(".handle").style("pointer-events","none"),g.l(".overlay").style("pointer-events","none"),s.forEach((function(e){-1!==e&&O.append("line").attr("x1",v(t[e].id)).attr("x2",v(t[e].id)).attr("y1",0).attr("y2",88).attr("stroke","#AEAEAE").attr("stroke-dasharray","4")})),O.append("line").attr("x1",v(l)).attr("x2",v(l)).attr("y1",0).attr("y2",88).attr("stroke","#F0324B");var y=g.l(r.current).append("svg").attr("height",394+h).attr("width",12e3).on("wheel.zoom",(function(){var t,e=g.l(".brush"),r=g.c(e.node()),n=r[1]-r[0],a=v.range(),i=g.g(a),o=g.f(a),c=-g.e.deltaX;t=r[0]-c<i?i:r[1]-c>o?o-n:r[0]-c,g.e.stopPropagation(),g.e.preventDefault(),e.call(j.move,[t,t+n])})),k=g.i().domain(t.map((function(t){return t.id}))).range([0,12e3]).paddingInner(.9).paddingOuter(.5);y.append("g").attr("transform","translate(0,378)").call(g.a(k).tickSizeOuter(0).tickSizeInner(0).tickFormat((function(t,e){return e+1})));var E=g.j().domain([0,100]).range([394,h+40]);y.selectAll("group").data(t).enter().append("g").attr("class","group").append("rect").attr("class","lolliBar").attr("x",(function(t){return k(t.id)})).attr("y",(function(t){return E(t.score)-b})).attr("width",k.bandwidth()).attr("height",(function(t){return 394-E(t.score)})).attr("fill",(function(t){return z(t.senator_method)})),g.m(".group").append("text").attr("class","percentText").attr("x",(function(t){return k(t.id)-5})).attr("y",(function(t){return E(t.score)-b-20-30})).attr("fill","#828282").attr("font-size","1.2rem").attr("dominant-baseline","middle").text((function(t){return t.score.toFixed(0)+"%"})),g.l(".selection").attr("fill","#EEF090").attr("stroke-width",1).attr("stroke","rgba(0,0,0,0.2)").attr("z-index",9999999),c.forEach((function(t,e){var r=100===t?"stroke-width":"stroke-dasharray",n=100===t?1:.5;y.append("line").attr("x1",0).attr("x2",12e3).attr("y1",E(t)-b).attr("y2",E(t)-b).attr("stroke","#AEAEAE").attr(r,"2").attr("stroke-width",n)})),g.m(".group").append("svg:defs").append("svg:pattern").attr("id",(function(t,e){return"profile"+e})).attr("width",40).attr("height",40).attr("patternUnits","userSpaceOnUse").append("svg:image").attr("xlink:href",(function(t){return"https://elect.thematter.co/data/politicians/"+t.name+"-"+t.lastname.replace(/ /g,"-")+".jpg"})).on("error",(function(t){g.l(this).attr("xlink:href",d)})).attr("fluid",i.placeholderImage.childImageSharp.fluid).attr("width",40).attr("height",40).attr("x",0).attr("y",0),g.m(".group").append("circle").attr("class",(function(t){return"circle"+t.id})).attr("transform",(function(t){return"translate("+(k(t.id)-20+k.bandwidth()/2)+", "+(E(t.score)-b-40)+")"})).attr("cx",20).attr("cy",20).attr("r",20).style("fill","#fff").style("fill",(function(t,e){return"url(#profile"+e+")"})).style("cursor","pointer").attr("stroke","black").attr("stroke-width",1).on("mouseover",(function(t){g.m("circle").attr("stroke-width",1),g.l(".circle"+t.id).attr("stroke-width",2);var e=g.e.clientY-b-120,r=g.e.clientX+250>window.innerWidth?g.e.clientX-200:g.e.clientX+10;n(t),a(Object.assign({},x,{top:e,left:r,overflow:"hidden",opacity:1}))})).on("click",(function(t){g.l("#closeBtn").on("click",(function(){g.l(".circle"+t.id).attr("stroke-width",1),a({width:0,height:0,top:null,left:null,opacity:0})}))}))}(r,i,o,b,R,e)}),[]),Object(p.useEffect)((function(){!function(t){"โดยตำแหน่ง"===t||"เลือกโดย คสช."===t||"เลือกกันเอง"===t?(g.m(".group").style("opacity",(function(e){return t!==e.senator_method?"0.1":"1"})),g.m(".miniBar").style("opacity",(function(e){return t!==e.senator_method?"0.1":"1"}))):(g.m(".group").style("opacity",(function(t){return"1"})),g.m(".miniBar").style("opacity",(function(t){return"1"})))}(n)}),[n]);var V=Object(p.useState)(!1),_=(V[0],V[1]),M=Object(p.useState)(0),X=M[0],J=M[1];return Object(p.useEffect)((function(){function t(){var t=window.pageYOffset;_(!(t>X)),J(t<=0?0:t)}return R({position:"absolute",width:0,height:0,top:null,left:null,opacity:0}),window.addEventListener("scroll",l()(t,1e4)),window.addEventListener("scroll",l()(t,1e4))}),[X]),Object(c.d)("div",null,d?Object(c.d)("div",{css:Object(c.c)(Object.assign({},k),"")},Object(c.d)("div",{css:Object(c.c)(Object.assign({},j),""),id:"closeBtn"}),Object(c.d)("strong",null,Object(c.d)("p",null,d.title," ",d.name," ",d.lastname)),Object(c.d)("p",null,"ระยะเวลาทำงาน 145 ครั้ง"),Object(c.d)("p",null,"เข้าลงมติ ",d.votelog," ครั้ง"),Object(c.d)("a",{href:"https://theyworkforus.elect.in.th/people/"+d.name+"-"+d.lastname.replace(/ /g,"-"),target:"_blank",rel:"noopener noreferrer",css:I},"ดูโปรไฟล์",Object(c.d)("svg",{css:B},Object(c.d)("path",{d:"M2.49999 1.66663H0.833328V9.16663H8.33333V7.49996",stroke:"#999C00"}),Object(c.d)("line",{x1:"8.68688",y1:"1.18693",x2:"3.68688",y2:"6.18693",stroke:"#999C00"}),Object(c.d)("path",{d:"M5 0.833374H9.16667V5.00004",stroke:"#999C00"})))):Object(c.d)(f.a.Fragment,null),Object(c.d)("div",{css:Object(c.c)(Object.assign({},O),""),id:"timeline-viz"},Object(c.d)("div",{ref:i,css:Object(c.c)(Object.assign({},m),"")})),Object(c.d)("div",{css:Object(c.c)(Object.assign({},v),""),className:"senate_scroll"},Object(c.d)("div",{css:Object(c.c)(Object.assign({},E,{top:"8rem",pointerEvents:"none"}),"")},Object(c.d)("div",{css:Object(c.c)(Object.assign({},A,{background:"#AEAEAE"}),"")}),Object(c.d)("p",{css:D},"คะแนนเต็ม 100%"),Object(c.d)("div",{css:Object(c.c)(Object.assign({},A,{background:"#AEAEAE"}),"")})),Object(c.d)("div",{css:Object(c.c)(Object.assign({},E,{top:"16rem",pointerEvents:"none"}),"")},Object(c.d)("div",{css:Object(c.c)(Object.assign({},A,{background:"#F0324B"}),"")}),Object(c.d)("p",{css:C},"คะแนนเฉลี่ย 75%"),Object(c.d)("div",{css:Object(c.c)(Object.assign({},A,{background:"#F0324B"}),"")})),Object(c.d)("div",{ref:o}),Object(c.d)("div",{css:Object(c.c)(Object.assign({},y),"")},a.map((function(t,e){return Object(c.d)(F,{gradeObj:t,key:e})})))))}}}]);
//# sourceMappingURL=f1303155-77208f41e59326123010.js.map