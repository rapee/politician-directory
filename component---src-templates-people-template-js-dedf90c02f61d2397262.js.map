{"version":3,"sources":["webpack:///./src/templates/people-template.module.css","webpack:///./src/components/profile/officialWebsite.js","webpack:///./src/components/peopleVote.js","webpack:///./src/components/peopleStatus.js"],"names":["module","exports","cssLinkBox","fontSize","fontFamily","fontWeight","textDecoration","border","marginRight","padding","color","OfficialWebsite","profile","items","map","key","official","href","css","className","length","cssSectionWhite","paddingBottom","background","filterChoice","text","choice","voteColor","voteText","PeopleVoteCard","fields","title","vote_date","legal_title","to","slug","display","borderRadius","borderLeft","margin","height","width","backgroundColor","formatDate","PeopleVote","state","allVote","props","activeFilter","handleFilter","o","String","setState","render","this","paddingTop","onClick","style","borderBottomColor","vote","id","Component","peopleVoteYaml","allVotelogYaml","voteLogs","votelog","allVotes","nodes","forEach","matchedVotelog","value","sortedAllVotes","filter","sort","a","b","localeCompare","PeopleStatus","isActive","getStatusColor","marginLeft","getTextColor","getText"],"mappings":"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","file":"component---src-templates-people-template-js-dedf90c02f61d2397262.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"hr\":\"people-template-module--hr--2YMP3\",\"card\":\"people-template-module--card--3KQ7K\"};","import React from \"react\"\nimport _ from \"lodash\"\nimport ExternalLink from \"../externalLink\"\n\nconst cssLinkBox = {\n  fontSize: \"1.7rem\",\n  fontFamily: \"var(--ff-title)\",\n  fontWeight: \"bold\",\n  textDecoration: \"none\",\n  border: \"1px solid var(--cl-black)\",\n  marginRight: \"1rem\",\n  padding: \"0 1rem\",\n  color: \"var(--cl-black)\",\n  \"&:hover\": {\n    textDecoration: \"none\",\n  },\n}\n\n// component to show official websites\nconst OfficialWebsite = profile => {\n  const items = _.compact(\n    [\"website\", \"facebook\", \"twitter\"].map(key => {\n      const official = profile[key]\n      if (!official) return null\n      return (\n        <ExternalLink key={key} href={official} css={{ ...cssLinkBox }}>\n          {_.startCase(key)}\n        </ExternalLink>\n      )\n    })\n  )\n  return (\n    <div className=\"official-website\">\n      {items.length > 0 ? items : \"ไม่มีข้อมูล\"}\n    </div>\n  )\n}\n\nexport default OfficialWebsite\n","import React, { Component } from \"react\"\nimport { Link } from \"gatsby\"\nimport _ from \"lodash\"\n\nimport { formatDate } from \"../utils\"\n\nconst cssSection = { paddingBottom: \"8rem\" }\nconst cssSectionWhite = {\n  ...cssSection,\n  background: \"var(--cl-white)\",\n}\n\nconst filterChoice = [\n  { text: \"ทั้งหมด\", choice: 0 },\n  { text: \"เห็นด้วย\", choice: 1 },\n  { text: \"ไม่เห็นด้วย\", choice: 2 },\n  { text: \"งดออกเสียง\", choice: 3 },\n  { text: \"ไม่ลงคะแนน\", choice: 4 },\n]\n\nconst voteColor = {\n  \"1\": \"var(--cl-vote-yes)\",\n  \"2\": \"var(--cl-vote-no)\",\n  \"3\": \"var(--cl-vote-abstained)\",\n  \"4\": \"#272727\",\n  \"\": \"-\",\n}\n\nconst voteText = {\n  \"1\": \"เห็นด้วย\",\n  \"2\": \"ไม่เห็นด้วย\",\n  \"3\": \"งดออกเสียง\",\n  \"4\": \"ไม่ลงคะแนน\",\n  \"\": \"-\",\n}\n\nconst PeopleVoteCard = ({ choice, fields, title, legal_title, vote_date }) => (\n  <Link\n    to={fields.slug}\n    css={{\n      display: \"block\",\n      color: \"var(--cl-black)\",\n      padding: \"0.5rem 2rem\",\n      fontSize: \"2.4rem\",\n      borderRadius: 4,\n      border: \"1px solid black\",\n      borderLeft: `1rem solid ${voteColor[choice]}`,\n      margin: \"20px 0px\",\n      \"&:hover\": {\n        textDecoration: \"none\",\n      },\n    }}\n  >\n    <div\n      css={{\n        color: choice === \"3\" ? \"var(--cl-black)\" : voteColor[choice],\n        margin: \"15px 0px\",\n        fontSize: \"2.4rem\",\n      }}\n    >\n      <div\n        css={{\n          display: \"inline-block\",\n          height: 15,\n          width: 15,\n          marginRight: 10,\n          backgroundColor: voteColor[choice],\n        }}\n      ></div>\n      {voteText[choice]}\n    </div>\n    <p css={{ fontFamily: \"var(--ff-title)\", fontSize: \"2.4rem\" }}>{title}</p>\n    <p css={{ fontSize: \"1.5rem\", margin: \"15px 0px\" }}>\n      {formatDate(vote_date)}\n    </p>\n  </Link>\n)\n\nclass PeopleVote extends Component {\n  state = {\n    allVote: this.props.allVote,\n    activeFilter: 0,\n  }\n\n  handleFilter = choice => {\n    let allVote = this.props.allVote\n    if (choice === 0) {\n      this.setState({ allVote, activeFilter: choice })\n    } else {\n      allVote = _.filter(allVote, function(o) {\n        return o[\"choice\"] === String(choice)\n      })\n      this.setState({ allVote, activeFilter: choice })\n    }\n  }\n\n  render() {\n    const { allVote, activeFilter } = this.state\n    return (\n      <section\n        css={{\n          ...cssSectionWhite,\n          paddingTop: \"6rem\",\n        }}\n      >\n        <div className=\"container\">\n          <h2\n            css={{\n              fontSize: \"4.8rem\",\n              textAlign: \"center\",\n              marginBottom: \"3rem\",\n            }}\n          >\n            สรุปการลงมติในสภา\n          </h2>\n          <ul\n            css={{\n              display: \"block\",\n              listStyle: \"none\",\n              textAlign: \"center\",\n              \"> li\": {\n                display: \"inline-block\",\n                fontSize: \"2.4rem\",\n                padding: \"1rem 0 0\",\n                margin: \"0 1rem\",\n                cursor: \"pointer\",\n                \"&.active\": {\n                  borderBottom: \"8px solid var(--cl-black)\",\n                },\n              },\n            }}\n          >\n            {filterChoice.map(({ text, choice }) => (\n              <li\n                key={choice}\n                className={activeFilter === choice ? \"active\" : \"\"}\n                onClick={() => this.handleFilter(choice)}\n                style={\n                  activeFilter === choice\n                    ? {\n                        borderBottomColor: voteColor[choice],\n                      }\n                    : null\n                }\n              >\n                {text}\n              </li>\n            ))}\n          </ul>\n          {allVote.length > 0 ? (\n            allVote.map(vote => (\n              <PeopleVoteCard key={vote.id} {...vote}></PeopleVoteCard>\n            ))\n          ) : (\n            <div\n              css={{\n                fontFamily: \"var(--ff-title)\",\n                fontSize: \"3.2rem\",\n                textAlign: \"center\",\n                margin: \"6rem 0\",\n              }}\n            >\n              ยังไม่เคยลงมติประเภทนี้\n            </div>\n          )}\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default ({ peopleVoteYaml, allVotelogYaml }) => {\n  const voteLogs = peopleVoteYaml.votelog || []\n  const allVotes = [...allVotelogYaml.nodes]\n  // merge allVote and voteLog into allVote\n  allVotes.forEach(vote => {\n    const matchedVotelog = _.find(voteLogs, [\"key\", vote.id])\n    if (matchedVotelog) {\n      vote.choice = matchedVotelog.value\n    }\n  })\n  const sortedAllVotes = allVotes\n    .filter(vote => vote.choice)\n    .sort((a, b) => {\n      return b.vote_date.localeCompare(a.vote_date)\n    })\n\n  return <PeopleVote allVote={sortedAllVotes} />\n}\n","import React from \"react\"\n\nconst PeopleStatus = ({ isActive }) => {\n  const getStatusColor = isActive => {\n    return isActive ? \"var(--cl-vote-yes)\" : \"var(--cl-vote-abstained)\"\n  }\n\n  const getTextColor = isActive => {\n    return isActive ? \"var(--cl-vote-yes)\" : \"var(--cl-black)\"\n  }\n\n  const getText = isActive => {\n    return isActive ? \"อยู่ในตำแหน่ง\" : \"พ้นจากตำแหน่ง\"\n  }\n\n  return (\n    <div\n      css={{\n        boxSizing: \"border-box\",\n        width: \"18rem\",\n        border: \"1px solid var(--cl-gray-3)\",\n        borderRadius: \"5px\",\n        margin: \"1.5rem auto\",\n        fontWeight: \"bold\",\n        lineHeight: \"1.4\",\n      }}\n    >\n      <span>สถานะ</span>\n      <span\n        css={{\n          height: \"0.8rem\",\n          width: \"0.8rem\",\n          backgroundColor: getStatusColor(isActive),\n          borderRadius: \"50%\",\n          display: \"inline-block\",\n          margin: \"0.1rem\",\n          marginLeft: \"1rem\",\n        }}\n      ></span>\n      <span css={{ color: getTextColor(isActive) }}>{getText(isActive)}</span>\n    </div>\n  )\n}\n\nexport default PeopleStatus\n"],"sourceRoot":""}