{"version":3,"sources":["webpack:///./src/templates/votelog-list-template.js"],"names":["paginationStyle","color","fontSize","fontWeight","textDecoration","margin","VoteLogWrapper","votelogs","data","css","map","node","key","id","view","width","title","description_th","approve","disprove","abstained","absent","vote_date","slug","fields","VoteLogPage","allVotelogYaml","voteRecordImage","pageContext","updateImage","currentPage","numPages","edges","imageUrl","className","fixed","childImageSharp","path","to","marginTop","Array","from","length","_","i","pageNumber"],"mappings":"gNASO,IA+CDA,EAAkB,CACtBC,MAAO,kBACPC,SAAU,SACVC,WAAY,OACZC,eAAgB,OAChBC,OAAQ,yBACR,UAAW,CACTD,eAAgB,S,uHAIdE,EAAiB,SAAAC,GAAa,IAC1BC,EAASD,EAATC,KACR,OACE,mBACEC,IAAG,GAQFD,EAAKE,KAAI,gBAAGC,EAAH,EAAGA,KAAH,OACR,YAAC,IAAD,CACEC,IAAKD,EAAKE,GACVC,KAAM,OACNL,IAAG,YAAE,CACHM,MAAM,4CACNV,OAAQ,oBAFP,IAIHW,MAAOL,EAAKK,MACZC,eAAgBN,EAAKM,eACrBC,QAASP,EAAKO,QACdC,SAAUR,EAAKQ,SACfC,UAAWT,EAAKS,UAChBC,OAAQV,EAAKU,OACbC,UAAWX,EAAKW,UAChBC,KAAMZ,EAAKa,OAAOD,Y,ggBAqJbE,UA9IK,SAAC,GAGd,IAAD,IAFJjB,KAAQkB,EAEJ,EAFIA,eAAgBC,EAEpB,EAFoBA,gBACxBC,GACI,EAFqCC,YAErC,EADJD,aAEQE,EAA0BF,EAA1BE,YAAaC,EAAaH,EAAbG,SACfxB,EAAWmB,EAAeM,MAEhC,OACE,YAAC,IAAD,KACE,YAAC,IAAD,CACEhB,MAAM,6BACNiB,SAAS,2BAEX,uBACExB,IAAG,GAOH,mBAAKyB,UAAU,aACb,uBACE,YAAC,IAAD,CACEC,MAAOR,EAAgBS,gBAAgBD,MACvC1B,IAAG,KAGP,kBACEA,IAAG,GADL,8BASA,iBAAGA,IAAG,GAAN,kXAWJ,2BACE,mBAAKyB,UAAU,aACb,kBACEzB,IAAG,GADL,wBASA,YAAC,SAAD,KACGF,EACC,YAACD,EAAD,CACE+B,KAAsB,IAAhBP,EAAoB,WAAa,oBACvCtB,KAAMD,IAGR,MAKR,uBAASE,IAAG,GACV,mBAAKyB,UAAU,aACb,mBACEzB,IAAG,GAMc,IAAhBqB,EACC,YAAC,OAAD,CACEQ,GAAE,YACAR,EAAc,GAAM,EAAI,GAAxB,UAAsCA,EAAc,IAEtDrB,IAAG,6BACET,EADF,CAEDuC,UAAW,SAFV,KAJL,KAYA,GAEDC,MAAMC,KAAK,CAAEC,OAAQX,IAAY,SAACY,EAAGC,GACpC,IAAMC,EAAaD,EAAI,EACvB,OAAIC,IAAef,EAEf,oBACElB,IAAG,eAAiBiC,EACpBpC,IAAG,6BACET,EADF,CAEDI,eAAgB,cAFf,KAKFyC,GAKL,YAAC,OAAD,CACEjC,IAAG,eAAiBiC,EACpBP,GAAE,YACe,IAAfO,EAAmB,GAAnB,SAAiCA,GAEnCpC,IAAKT,GAEJ6C,MAINf,IAAgBC,EACf,YAAC,OAAD,CACEO,GAAE,kBAAsBR,EAAc,GACtCrB,IAAG,6BACET,EADF,CAEDuC,UAAW,SAFV,KAFL,KAUA","file":"component---src-templates-votelog-list-template-js-c3ff386ccca48fd2736f.js","sourcesContent":["import React from \"react\"\nimport { graphql, Link } from \"gatsby\"\nimport Img from \"gatsby-image\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport VoteLogCard from \"../components/voteLogCard\"\nimport { Router } from \"@reach/router\"\n\nexport const query = graphql`\n  query($skip: Int!, $limit: Int!) {\n    allVotelogYaml(\n      filter: { is_active: { eq: true } }\n      limit: $limit\n      skip: $skip\n      sort: { fields: vote_date, order: DESC }\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          fields {\n            slug\n          }\n          title\n          description_th\n          passed\n          is_no_vote\n          no_vote_description\n          approve\n          disprove\n          abstained\n          absent\n          vote_date\n        }\n      }\n    }\n    voteRecordImage: file(\n      relativePath: { eq: \"images/icons/votelog/votelog-white.png\" }\n    ) {\n      childImageSharp {\n        fixed(width: 48) {\n          ...GatsbyImageSharpFixed\n        }\n      }\n    }\n    updateImage: file(relativePath: { eq: \"images/icons/update/update.png\" }) {\n      childImageSharp {\n        fixed(width: 17) {\n          ...GatsbyImageSharpFixed\n        }\n      }\n    }\n  }\n`\n\nconst paginationStyle = {\n  color: \"var(--cl-black)\",\n  fontSize: \"2.2rem\",\n  fontWeight: \"bold\",\n  textDecoration: \"none\",\n  margin: \"0.2rem 0.3rem 0 0.3rem\",\n  \"&:hover\": {\n    textDecoration: \"none\",\n  },\n}\n\nconst VoteLogWrapper = votelogs => {\n  const { data } = votelogs\n  return (\n    <div\n      css={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"flex-start\",\n        flexWrap: \"wrap\",\n        marginTop: \"6rem\",\n      }}\n    >\n      {data.map(({ node }) => (\n        <VoteLogCard\n          key={node.id}\n          view={\"full\"}\n          css={{\n            width: `calc((var(--container-width) - 4rem) / 2)`,\n            margin: \"0 1rem 2rem 1rem\",\n          }}\n          title={node.title}\n          description_th={node.description_th}\n          approve={node.approve}\n          disprove={node.disprove}\n          abstained={node.abstained}\n          absent={node.absent}\n          vote_date={node.vote_date}\n          slug={node.fields.slug}\n        />\n      ))}\n    </div>\n  )\n}\n\nconst VoteLogPage = ({\n  data: { allVotelogYaml, voteRecordImage, updateImage },\n  pageContext,\n}) => {\n  const { currentPage, numPages } = pageContext\n  const votelogs = allVotelogYaml.edges\n\n  return (\n    <Layout>\n      <SEO\n        title=\"บันทึกการประชุมและการลงมติ\"\n        imageUrl=\"/seo/share/votelog.png\"\n      />\n      <section\n        css={{\n          backgroundColor: \"#222222\",\n          padding: \"8rem 0 4rem 0\",\n          color: \"--cl-white\",\n          textAlign: \"center\",\n        }}\n      >\n        <div className=\"container\">\n          <div>\n            <Img\n              fixed={voteRecordImage.childImageSharp.fixed}\n              css={{ width: \"48px\", margin: \"auto\" }}\n            ></Img>\n          </div>\n          <h1\n            css={{\n              color: \"var(--cl-white)\",\n              textAlign: \"center\",\n              fontSize: \"4.8rem\",\n            }}\n          >\n            บันทึกการประชุมและการลงมติ\n          </h1>\n          <p css={{ padding: \"0 8rem\", color: \"#eeeeee\" }}>\n            นับตั้งแต่เปิดประชุมสภาหลังการเลือกตั้ง\n            มีการประชุมสภามาแล้วหลายต่อหลายครั้ง แต่ละครั้งก็มีหลายวาระ\n            และใช้ระยะเวลาในการประชุมยาวนาน\n            จนบางทีเราก็ตามไม่ทันว่ามีการลงมติครั้งสำคัญเกิดขึ้นในการประชุมครั้งไหนในสภาบ้าง?\n            ใครยกมือสนับสนุนหรือคัดค้านมติไหน?\n            เราจึงรวบรวบการลงมติครั้งสำคัญมาให้ พร้อมอธิบายสรุปแบบเข้าใจง่ายๆ\n            ว่าสิ่งที่ผู้แทนแต่ละคนสนับสนุนหรือคัดค้านคืออะไร\n          </p>\n        </div>\n      </section>\n      <section>\n        <div className=\"container\">\n          <h1\n            css={{\n              textAlign: \"center\",\n              fontSize: \"4.8rem\",\n              margin: \"6rem 0\",\n            }}\n          >\n            สรุปผลการลงมติล่าสุด\n          </h1>\n          <Router>\n            {votelogs ? (\n              <VoteLogWrapper\n                path={currentPage === 1 ? \"/votelog\" : \"/votelog/page/:id\"}\n                data={votelogs}\n              />\n            ) : (\n              \"\"\n            )}\n          </Router>\n        </div>\n      </section>\n      <section css={{ padding: \"8rem 0\" }}>\n        <div className=\"container\">\n          <div\n            css={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              color: \"var(--cl-black)\",\n            }}\n          >\n            {currentPage !== 1 ? (\n              <Link\n                to={`/votelog${\n                  currentPage - 1 === 1 ? \"\" : `/page/${currentPage - 1}`\n                }`}\n                css={{\n                  ...paginationStyle,\n                  marginTop: \"0rem\",\n                }}\n              >\n                &lt;\n              </Link>\n            ) : (\n              \"\"\n            )}\n            {Array.from({ length: numPages }, (_, i) => {\n              const pageNumber = i + 1\n              if (pageNumber === currentPage) {\n                return (\n                  <span\n                    key={`page-number-${pageNumber}`}\n                    css={{\n                      ...paginationStyle,\n                      textDecoration: \"underline\",\n                    }}\n                  >\n                    {pageNumber}\n                  </span>\n                )\n              }\n              return (\n                <Link\n                  key={`page-number-${pageNumber}`}\n                  to={`/votelog${\n                    pageNumber === 1 ? \"\" : `/page/${pageNumber}`\n                  }`}\n                  css={paginationStyle}\n                >\n                  {pageNumber}\n                </Link>\n              )\n            })}\n            {currentPage !== numPages ? (\n              <Link\n                to={`/votelog${`/page/${currentPage + 1}`}`}\n                css={{\n                  ...paginationStyle,\n                  marginTop: \"0rem\",\n                }}\n              >\n                &gt;\n              </Link>\n            ) : (\n              \"\"\n            )}\n          </div>\n        </div>\n      </section>\n    </Layout>\n  )\n}\n\nexport default VoteLogPage\n"],"sourceRoot":""}